/* --- base --- */
@define-color barbg   rgba(0,0,0,0.25);
@define-color black   #000000;
@define-color blue    #0000ff;
@define-color cyan    #00ffff;
@define-color green   #28c940;
@define-color grey    #888888;
@define-color magenta #ff66cc;
@define-color orange  #ffa500;
@define-color pink    #ffc0cb;
@define-color purple  #800080;
@define-color red     #ff0000;
@define-color white   #ffffff;
@define-color yellow  #ffcc00;

window#waybar { background-color: @barbg; }

/* --- cápsula común verde (unifica estilo) --- */
#battery, #backlight, #cpu, #clock, #pulseaudio, #network, #idle_inhibitor, #memory, #tray, #weather,
#custom-appmenu, #custom-cliphist, #custom-exit, #custom-hotkeys, #custom-lock, #custom-containers,
#custom-mic, #custom-cam, #custom-weather, #custom-vpn #group-misc {
  background-color: transparent;
  color: @green;
  border: 2px solid @green;
  border-radius: 6px;
  padding: 2px 12px 0 10px;
  margin: 3px 5px 3px 0;
  font-size: 16px;
}
#pulseaudio.muted, #network.disconnected {
  color: @red;
  border-color: @red;
}

/* ajustes por módulo */
#cpu icon, #memory icon, #network icon, #clock icon, #backlight icon { margin-right: 8px; }
#cpu.warning, #memory.warning { color: @orange; border-color: @orange; }
#cpu.critical, #memory.critical { color: @red; border-color: @red; }

/* batería: un solo “critical” + una sola animación */
@keyframes batt-blink { to { background-color: @barbg; } }
#battery.charging, #battery.plugged { color: @green; border-color: @green; }
#battery.critical:not(.charging) {
  color: @white;
  background-color: #f53c3c;
  border-color: #f53c3c;
  animation: batt-blink .6s linear infinite alternate;
}

/* workspaces (tu estilo actual, sin duplicados) */
#workspaces {
  background: transparent;
  margin: 3px 5px 3px 0;
  padding: 0;
  border: none;
}
#workspaces button {
  color: @green;
  border: 2px solid @green;
  border-radius: 6px;
  padding: 2px 10px 0 10px;
  font-size: 14px;
  font-weight: bold;
  background: transparent;
  min-width: 28px;
  transition: all 0.15s ease-in-out;
}
#workspaces button.active { background: @green; color: @black; }
#workspaces button.urgent { border-color: @red; color: @red; }
#workspaces button:hover { background: rgba(40,201,64,0.08); }

/* tooltips / ventana (mantén solo una versión) */
tooltip { border-radius: 16px; background-color: #fff; opacity:.9; padding:20px; margin:0; }
tooltip label { color: #000; }
#window { margin: 3px 15px 3px 0; padding: 2px 10px 0 10px; color: white; font-size: 16px; }
window#waybar.empty #window { background-color: transparent; }


/* Cuando está activo, ponlo en rojo */
#idle_inhibitor.activated {
  color: @red;
  border-color: @red;
}

#custom-containers.starting { color: @yellow; border-color: @yellow; }
#custom-containers.off      { color: @grey;   border-color: @grey;   }


/* Estados del mic */
#custom-mic.recording { color: @yellow; border-color: @yellow; } /* grabando */
#custom-mic.muted     { color: @red;    border-color: @red; }    /* mute */
#custom-mic.idle      { color: @green;  border-color: @green; }  /* listo */

/* Estados de cámara */
#custom-cam.on  { color: @yellow; border-color: @yellow; } /* en uso */
#custom-cam.off { color: @green;  border-color: @green; }


/* tray */
#tray { padding: 0 15px 0 0; }
#tray > .passive { -gtk-icon-effect: dim; }
#tray > .needs-attention { -gtk-icon-effect: highlight; }
